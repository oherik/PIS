QA12 - MC68HC12 Absolute crossassembler, Version 1.6.3
(c) GMV 1989-2013


File: Delay.lst
                            1. 	use	Labdefs.s12
---- File: "Labdefs.s12"
                            2. ;Adresser
       0000 0600            3. DipSwitch	equ	$600
       0000 0700            4. HexDisplay	equ	$700
       0000 0400            5. DrillControl	equ	$400
       0000 0401            6. DrillStatus	equ	$401
                            7. 
000000                      8. #ifdef	SIMULATOR
                           14. #else
       0000 0004           15. DelayConst	EQU	4
                           16. #endif000000                     17. DELAY:			; 250 ms delay
---- File: "C:\Users\Erik\Documents\GitHub\PIS\Bokuppgifter\Delay.s12"
000000 34                  18. 	pshx		
000001 35                  19. 	pshy
000002 CE 00 04            20. 	ldx	#DelayConst
000005 1A 1F               21. NEXT:	leax	-1,x
000007 CD 00 64            22. 	ldy	#100
00000A 19 5F               23. NEXT2:	leay	-1,y
00000C 8D 00 00            24. 	cpy	#0
00000F 26 F9               25. 	bne	NEXT2
000011 8E 00 00            26. 	cpx	#0
000014 26 EF               27. 	bne	NEXT
000016 31                  28. 	puly
000017 30                  29. 	pulx
000018 3D                  30. 	rts	
000019                     31. 	
000019                     32. DELAY_B:		; Calls DELAY the number of times specified in B
000019 37                  33. 	pshb
00001A D7                  34. 	tstb
00001B                     35. DELAY_B_LOOP:
00001B 27 06               36. 	beq	DELAY_B_RETURN
00001D 16 00 00            37. 	jsr	DELAY
000020 53                  38. 	decb
000021 20 F8               39. 	bra	DELAY_B_LOOP
000023                     40. DELAY_B_RETURN:
000023 33                  41. 	pulb
000024 3D                  42. 	rts 