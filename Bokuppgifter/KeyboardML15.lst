QA12 - MC68HC12 Absolute crossassembler, Version 1.6.3
(c) GMV 1989-2013


File: KeyboardML15.lst
                            1. ;Testprogram
                            2. ;	org	$1000
                            3. ;start:	jsr	GetKbdML15
                            4. ;	cmpb	#$FF
                            5. ;	beq	start
                            6. ;	nop
                            7. ;	bra	start
                            8. ;	ldx	#tabell
                            9. ;start:	jsr	DisplayML15
                           10. ;	bra	start
                           11. ;
                           12. ;tabell:	fcb	1,2,3,4,5,6
                           13. 
000000                     14. 	
000000                     15. CheckKbdML15:
000000 F6 09 C0            16. 	ldab	$9c0
000003 2A 03               17. 	bpl	CheckKbd_VA
000005 C6 FF               18. 	ldab	#$FF	
000007 3D                  19. 	rts
000008                     20. CheckKbd_VA:
000008 37                  21. 	pshb
000009                     22. CheckKbd_VA_active:
000009 F6 09 C0            23. 	ldab	$9c0
00000C 2A FB               24. 	bpl	CheckKbd_VA_active
00000E 33                  25. 	pulb
00000F 3D                  26. 	rts
000010                     27. 	
000010                     28. GetKbdML15:
000010 16 00 00            29. 	jsr	CheckKbdML15
000013 C1 FF               30. 	cmpb	#$FF
000015 27 F9               31. 	beq	GetKbdML15
000017 3D                  32. 	rts
000018                     33. 	
000018                     34. DisplayML15:
000018 86 01               35. 	ldaa	#1
00001A 7A 09 C2            36. 	staa	$9c2
00001D 86 D0               37. 	ldaa	#$d0
00001F 7A 09 C3            38. 	staa	$9c3
000022 86 00               39. 	ldaa	#0
000024 7A 09 C2            40. 	staa	$9c2
000027                     41. DisplayML15_compare_loop:
000027 81 06               42. 	cmpa	#6
000029 26 09               43. 	bne	DisplayML15_not_6
00002B 86 00               44. 	ldaa	#0
00002D 7A 09 C3            45. 	staa	$9c3
000030 7A 09 C3            46. 	staa	$9c3
000033 3D                  47. 	rts
000034                     48. DisplayML15_not_6
000034                     49. 	ldab	a,x
000036 7B 09 C3            50. 	stab	$9c3
000039 42                  51. 	inca
00003A 20 EB               52. 	bra	DisplayML15_compare_loop
                           53. 
00003C                     54. 	
00003C                     55. 	